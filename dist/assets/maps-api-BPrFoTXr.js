const r="AIzaSyAZY99R1OA-MA5uQiyuJwICx2uRS5mUgv8";const i="6104e981d3230c7d8aea53d366808e33133b935518757d65c3329a09713515e8@group.calendar.google.com",l="https://www.googleapis.com/auth/calendar",d=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];async function p(){const n=new Date().toISOString(),a=new Date(Date.now()+2160*60*60*1e3).toISOString(),e=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(i)}/events?key=${r}&timeMin=${n}&timeMax=${a}&showDeleted=false&singleEvents=true&maxResults=100&orderBy=startTime`;try{const t=await fetch(e);if(!t.ok){const c=await t.text();throw console.error("Google API Response Error:",c),new Error(`Google API error! Status: ${t.status}`)}return(await t.json()).items||[]}catch(t){return console.error("Error fetching calendar events:",t),null}}window.gapiLoaded=()=>gapi.load("client",u);window.gisLoaded=()=>{google.accounts.oauth2.initTokenClient({client_id:void 0,scope:l,callback:()=>{}})};async function u(){await gapi.client.init({apiKey:r,discoveryDocs:d})}const I={lat:38.591125,lon:-109.553875},g=32;async function h(n){const s=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(n)}.json?access_token=pk.eyJ1Ijoic2t5bmUtIiwiYSI6ImNtZTN6aHI5aDBkZGsybXB6aXo1aWt4N2EifQ.bo-7UHk-yjZ8t82LjuGYKg&limit=1`;try{const e=await fetch(s);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();if(t.features&&t.features.length>0){const[o,c]=t.features[0].center;return{lat:c,lon:o}}return null}catch(e){return console.error("Error fetching coordinates:",e),null}}function w(n,a){const e=(a.lat-n.lat)*Math.PI/180,t=(a.lon-n.lon)*Math.PI/180,o=Math.sin(e/2)*Math.sin(e/2)+Math.cos(n.lat*Math.PI/180)*Math.cos(a.lat*Math.PI/180)*Math.sin(t/2)*Math.sin(t/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}async function m(n){const a=await h(n);return a?w(I,a)<=g:!1}export{m as c,p as g};
